# dev-plugin Configuration
# Copy this file to .claude/dev-plugin.yaml in your project
# or to ~/.claude/plugins/dev-plugin/dev-plugin.yaml for global settings

# Master control - enable/disable entire plugin
enabled: true

# ===================================
# OBSERVABILITY TRACKING
# ===================================
observability:
  enabled: true        # Track sessions locally to .claude/observability/
  debug: false         # Enable debug logging for troubleshooting

  langfuse:
    enabled: false     # Send traces to Langfuse for visualization
    auto_start: false  # Auto-start Langfuse docker if already installed

    # Connection settings - use environment variables for secrets!
    host: ${LANGFUSE_HOST}           # Default: http://localhost:3000
    public_key: ${LANGFUSE_PUBLIC_KEY}
    secret_key: ${LANGFUSE_SECRET_KEY}

    # Optional metadata
    userId: ${USER}                   # Track by username (uses $USER env var)
    version: "1.0.0"                  # Plugin version for tracking
    tags: ["dev", "local"]            # Categorize traces

    # Path to docker-compose.yml (if using auto_start)
    compose_path: ""

# ===================================
# CODE QUALITY CHECKS
# ===================================
quality_check:
  enabled: true        # Run type checks at session end

  # Language-specific commands (auto-detected via indicator files)
  typescript:
    enabled: true
    command: "npx tsc --noEmit"

  python:
    enabled: true
    command: "mypy ."

  go:
    enabled: true
    command: "go vet ./..."

  rust:
    enabled: true
    command: "cargo check"

# ===================================
# AUTO-FORMATTING
# ===================================
autoformat:
  enabled: true        # Format files after edits

  # Language-specific formatters
  typescript:
    command: "npx prettier --write"

  javascript:
    command: "npx prettier --write"

  python:
    command: "black"

# ===================================
# GIT CHECKPOINTING
# ===================================
git_checkpoint:
  enabled: true        # Auto-commit at session end with AI-generated summary

  # Commit message prefix
  prefix: "Auto-checkpoint:"

  # Include Claude attribution
  co_author: "Claude Sonnet 4.5 <noreply@anthropic.com>"

# ===================================
# NOTIFICATIONS
# ===================================
notifications:
  enabled: true               # Show notifications on session completion
  mac_notification: true      # macOS notification center alerts
  use_dialog: false           # Use dialog boxes (more intrusive)
  tts: false                  # Text-to-speech announcements

  # Audio notifications
  audio:
    enabled: false
    sound_only: true          # No TTS, just sound effects

# ===================================
# CLAUDE.MD MANAGEMENT
# ===================================
claude_md_management:
  auto_init: true             # Create CLAUDE.md if missing
  auto_update: true           # Update CLAUDE.md with session learnings
  update_threshold: 3         # Minimum tool calls before triggering update
  max_file_size: 10240        # Max size in bytes (10KB)
  backup_before_update: true  # Create .bak file before updating
